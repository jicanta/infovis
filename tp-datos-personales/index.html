<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width" />
  <title>TP datos personales</title>
  <style>
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, "Helvetica Neue", Arial, "Noto Sans";
      line-height: 1.45;
      color: #111;
      padding: 16px;
      background: #fff;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    h1 {
      margin: 0 0 16px 0;
      font-size: clamp(1.5rem, 1.2rem + 1.2vw, 2.1rem);
    }

    /* Grid de charts */
    .charts-grid {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 16px;
      align-items: start;
      margin-top: 8px;
    }
    @media (max-width: 900px) {
      .charts-grid { grid-template-columns: 1fr; }
    }

    /* Tarjetas de gráficos */
    .chart-card {
      border: 1px solid #e6e6e6;
      border-radius: 12px;
      padding: 16px;
      background: #fafafa;
      overflow: visible; /* evita recortes */
    }
    .chart-card h2 {
      margin: 0 0 12px 0;
      font-size: clamp(1.1rem, 1rem + 0.8vw, 1.5rem);
      font-weight: 650;
    }

    /* Imágenes (SVG exportados) */
    .chart-card img {
      display: block;
      width: 100%;
      height: auto;
      object-fit: contain;
    }

    /* Contenedor de embeds */
    .embed {
      width: 100%;
      overflow: visible;
    }
    .embed iframe,
    .embed object {
      width: 100%;
      border: 0;
      display: block;
    }

    /* Datawrapper */
    .datawrapper-embed {
      width: 0;
      min-width: 100% !important;
      border: none;
      display: block;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Mi año entre el gimnasio y los exámenes</h1>

    <!-- Gráficos estáticos -->
    <div class="charts-grid">
      <section class="chart-card" aria-labelledby="titulo-gym">
        <h2 id="titulo-gym">¿A qué <i>hora</i> suelo ir más seguido al gimnasio?</h2>
        <img src="gym-hours-styled.svg" alt="Gráfico Stream Chart con frecuencia por hora del gimnasio" />
      </section>

      <section class="chart-card" aria-labelledby="titulo-exams">
        <h2 id="titulo-exams">¿A qué <i>hora</i> suelo tener más exámenes?</h2>
        <img src="exams-hours-styled2.svg" alt="Gráfico Stream Chart con frecuencia por hora de exámenes" />
      </section>
    </div>

    <!-- Flourish -->
    <section class="chart-card" aria-labelledby="titulo-relacion">
      <div class="embed">
        <div class="flourish-embed" data-src="story/3293472"></div>
      </div>
      <script src="https://public.flourish.studio/resources/embed.js" defer></script>
      <noscript>
        <img src="https://public.flourish.studio/story/3293472/thumbnail" width="100%" alt="visualización Flourish" />
      </noscript>
    </section>

    <!-- Tableau -->
    <section class="chart-card" aria-labelledby="titulo-tableau">
  <h2 id="titulo-tableau">¿Qué relación existe entre gym y promedio de exámenes?</h2>

  <!-- Contenedor responsivo + límites -->
  <div class="embed embed--tableau">
    <div class="tableauPlaceholder" id="viz-gym-exams">
      <noscript>
        <a href="#">
          <img alt="Dashboard 1"
               src="https://public.tableau.com/static/images/Bo/Book3_17567631400870/Dashboard1/1.png"
               style="border:0" />
        </a>
      </noscript>

      <object class="tableauViz" style="display:none;">
        <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F"/>
        <param name="embed_code_version" value="3"/>
        <param name="site_root" value=""/>
        <!-- IMPORTANTE: apunta a tu Dashboard -->
        <param name="name" value="Book3_17567631400870/Dashboard1"/>
        <param name="tabs" value="no"/>
        <param name="toolbar" value="yes"/>
        <param name="static_image" value="https://public.tableau.com/static/images/Bo/Book3_17567631400870/Dashboard1/1.png"/>
        <param name="display_static_image" value="yes"/>
        <param name="animate_transition" value="yes"/>
        <param name="display_spinner" value="yes"/>
        <param name="display_overlay" value="yes"/>
        <param name="display_count" value="yes"/>
        <param name="language" value="es-ES"/>
        <!-- Si creaste Device Layouts en Tableau, esto ayuda -->
        <param name="device" value="desktop"/>
        <param name="filter" value="publish=yes"/>
      </object>
    </div>
  </div>
</section>

<style>
  .embed--tableau{
    max-width: 980px;   /* control del ancho total del gráfico */
    margin: 0 auto;
  }

  /* Relación de aspecto del dashboard (16:9 por defecto).
     Si tu dashboard es 4:3, cambiá a aspect-ratio: 4 / 3; */
  #viz-gym-exams{
    position: relative;
    width: 100%;
    aspect-ratio: 16 / 9;   /* ← Cambiá a 4 / 3 si corresponde */
    max-height: 680px;      /* evita “scroll” en pantallas bajas */
    min-height: 360px;      /* asegura legibilidad mínima */
  }

  /* El objeto de Tableau ocupa todo el placeholder */
  #viz-gym-exams > object,
  #viz-gym-exams .tableauViz{
    position: absolute !important;
    inset: 0;
    width: 100% !important;
    height: 100% !important;
    border: 0;
  }
</style>

<script>
  (function () {
    var placeholder = document.getElementById('viz-gym-exams');
    var obj = placeholder.getElementsByTagName('object')[0];

    // Cargar la API una sola vez
    if (!window.__tableau_api_loaded__) {
      var s = document.createElement('script');
      s.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
      s.onload = function(){ window.__tableau_api_loaded__ = true; };
      document.body.appendChild(s);
    }

    // Si usás Device Designer, alterna device según ancho
    function setDeviceParam() {
      var w = placeholder.offsetWidth;
      var device = (w < 600) ? 'phone' : (w < 900) ? 'tablet' : 'desktop';
      var params = obj.getElementsByTagName('param');
      for (var i=0; i<params.length; i++) {
        if (params[i].getAttribute('name') === 'device') {
          params[i].setAttribute('value', device);
        }
      }
    }
    setDeviceParam();
    window.addEventListener('resize', setDeviceParam);
  })();
</script>


    <!-- Datawrapper -->
    <section class="chart-card" aria-labelledby="titulo-datawrapper">
      <div class="embed">
        <iframe title="¿Qué distribución de notas obtuve en distintos meses?"
                aria-label="Dot Plot"
                id="datawrapper-chart-cvRrr"
                src="https://datawrapper.dwcdn.net/cvRrr/2/"
                scrolling="no"
                frameborder="0"
                style="width: 0; min-width: 100% !important; border: none;"
                height="176"
                data-external="1">
        </iframe>
        <script type="text/javascript">
          !function(){
            "use strict";
            window.addEventListener("message", function(a){
              if(void 0!==a.data["datawrapper-height"]){
                var e=document.querySelectorAll("iframe");
                for(var t in a.data["datawrapper-height"])
                  for(var r,i=0;r=e[i];i++)
                    if(r.contentWindow===a.source){
                      var d=a.data["datawrapper-height"][t]+"px";
                      r.style.height=d;
                    }
              }
            });
          }();
        </script>
      </div>
    </section>
    <section class="chart-card" aria-labelledby="titulo-conclusion">
  <h2 id="titulo-conclusion">Conclusión breve</h2>
  <p>
    En este período, los meses con <strong>más visitas al gimnasio</strong> coincidieron, en general, con 
    <strong>notas más bajas</strong>, mientras que cuando fui menos al gym mis calificaciones tendieron a ser más altas.
    Esto sugiere un posible trade-off en cómo distribuyo tiempo y energía entre entrenamiento y estudio.
    <em>Nota:</em> la muestra es <strong>pequeña</strong> y personal, por lo que no permite inferir causalidad ni generalizar.
  </p>
</section>

  </div>
</body>
</html>
